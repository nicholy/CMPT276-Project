<!DOCTYPE html>
<html>
<body>
<img id = "titlepic" src = "images/Title.png">
<canvas id="myCanvas" width="640" height="320">
  Your browser does not support the canvas element.
</canvas>

<div id = "chooseRom">
    <label for="files">
        <img id = "button1" src="images/button1.jpg">
    </label>

    <input type="file" id="files" name="files[]" multiple />
</div>

<div id = "autoTest">
  <a href = "test.html">
    <img id = "button2" src = "images/button2.jpg">
  </a>
</div>

<div id="list"></div>

<div id="output"></div>
<div id="outdisplay"></div>
<div id="opnumber"></div>

<link rel = "stylesheet" href = "style.css">
<script src="chip8.js"></script>
<script>
  var canvas = document.getElementById("myCanvas");
  var dot = canvas.getContext("2d");
  var ch = new chip8;

  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object
    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {
      var reader = new FileReader();
      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          var raw = e.target.result;
          var rawBytes = new Uint8Array(raw);
          ch.reset();
          ch.stop();
          ch.loadProgram(rawBytes);
          ch.start();
        };
      })(f);
      // Read in the image file as a data URL.
      reader.readAsArrayBuffer(f);
    }
  }
  document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script>
</body>

</html>
